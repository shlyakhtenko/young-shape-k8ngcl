{"version":3,"file":"static/js/837.fe699e2f.chunk.js","mappings":"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","sources":["pipeline_editor/column_helpers.js","pipeline_editor/Datacolumn.js","pipeline_editor/PipelineEditor.js"],"sourcesContent":["export function compute_inputs(query) {\n  //console.log(\"compute inputs: query::\", query.fields);\n  let xyz = {\n    name: \"inputs\",\n    caption: \"Input Column\",\n    query: query.name,\n    fields: Object.entries(query.fields).map(([name, d]) => {\n      return {\n        name: name,\n        caption: d.caption,\n        editable: d.editable,\n        primary_key: d.primary_key,\n        edit_type: d.edit_type,\n        edit: false,\n        criteria: [],\n        display_on_card: null,\n        type: d.type,\n      };\n    }),\n  };\n  //console.log(xyz);\n  return [xyz];\n}\n\nexport function compute_wips(query, column_name, column_caption) {\n  let xyz = {\n    name: column_name,\n    caption: column_caption,\n    query: query.name,\n    fields: Object.entries(query.fields).map(([name, d]) => {\n      return {\n        name: name,\n        caption: d.caption,\n        editable: d.editable,\n        edit: false,\n        criteria: [],\n        type: d.type,\n        display_on_card: true,\n      };\n    }),\n  };\n  return xyz;\n}\nexport function compute_outputs(query, wips, column_name, column_caption) {\n  let wip_fields = [\n    ...new Set(\n      wips\n        .map((w) => {\n          return w.fields;\n        })\n        .flat()\n        .filter((f) => {\n          return f.edit;\n        }),\n    ),\n  ].map((ff) => {\n    return ff.name;\n  });\n  console.log(\"compute_output: wip_fields = \", wip_fields, \"query=\", query);\n\n  let xyz = {\n    name: column_name,\n    caption: column_caption,\n    query: query.name,\n    fields: Object.entries(query.fields)\n      .map(([name, d]) => {\n        return wip_fields.includes(name) || d.primary_key\n          ? {\n              name: name,\n              caption: d.caption,\n              editable: d.editable,\n              edit: false,\n              criteria: [],\n              type: d.type,\n              display_on_card: true,\n            }\n          : null;\n      })\n      .filter((x) => {\n        return x != null;\n      }),\n  };\n  console.log(\"compute_outputs returning\", xyz);\n  return xyz;\n}\n","import Button from \"react-bootstrap/Button\";\n\nimport { useState } from \"react\";\n\nfunction Datacolumn(props) {\n  // const [data, setData] = useState(props.column_data);\n  const siblings = props.siblings;\n  const setter = props.setter;\n  const data = props.column_data;\n  const [numLocFields, setNumLocFields] = useState(\n    props.local_fields ? Object.keys(props.local_fields).length : 0,\n  );\n\n  const numColumns =\n    3 +\n    Object.entries(data.fields)\n      .map(([, v]) => v.criteria.length)\n      .reduce((a, b) => Math.max(a, b), -Infinity);\n\n  const delete_field = (fieldName, fieldSet) => {\n    delete fieldSet[fieldName];\n    return fieldSet;\n  };\n  const save_caption = (fieldName, fieldCaption) => {\n    props.setter(\n      props.siblings.map((s) => {\n        return s.name == data.name\n          ? {\n              ...s,\n              local_fields: {\n                ...s.local_fields,\n                [fieldName]: {\n                  ...s.local_fields[fieldName],\n                  caption: fieldCaption,\n                },\n              },\n            }\n          : s;\n      }),\n    );\n  };\n\n  const save_type = (fieldName, fieldType) => {\n    props.setter(\n      props.siblings.map((s) => {\n        return s.name == data.name\n          ? {\n              ...s,\n              local_fields: {\n                ...s.local_fields,\n                [fieldName]: {\n                  ...s.local_fields[fieldName],\n                  edit_type: fieldType,\n                },\n              },\n            }\n          : s;\n      }),\n    );\n  };\n\n  return (\n    <div className=\"column\">\n      <label>\n        Column:\n        <input\n          key=\"column_name\"\n          value={data.caption}\n          onChange={(e) => {\n            //console.log(siblings);\n            let newsiblings = siblings.map((s) => {\n              return s.name == data.name\n                ? { ...data, caption: e.target.value }\n                : s;\n            });\n            //console.log(newsiblings);\n            setter(newsiblings);\n            //setter((siblings) => ({ ...data, caption: e.target.value }));\n          }}\n        ></input>\n      </label>\n\n      <div>\n        <table className=\"fieldTable\">\n          <thead>\n            <tr>\n              <th>Field</th>\n              {props.use_field ? <th>Display?</th> : \"\"}\n              {props.edit_field ? <th>Edit?</th> : \"\"}\n              {console.log(\"numColumns=\", numColumns)}\n\n              {Array.apply(null, new Array(numColumns - 2)).map((_, i) => {\n                console.log(\"i=\", i);\n                return <th key={i}>{i == 0 ? \"Criteria\" : \"...or...\"}</th>;\n              })}\n            </tr>\n          </thead>\n          <tbody>\n            {Object.entries(data.fields).map(([, f]) => {\n              return (\n                <tr key={\"tr_\" + f.name}>\n                  <td>{f.caption}</td>\n                  {props.use_field ? (\n                    <td>\n                      <input\n                        key={data.name + \"_\" + f.name + \"_use\"}\n                        type=\"checkbox\"\n                        checked={f.display_on_card}\n                        onChange={(e) => {\n                          let newfields = Object.entries(data.fields).map(\n                            ([, d]) => {\n                              return d.name == f.name\n                                ? { ...f, display_on_card: e.target.checked }\n                                : d;\n                            },\n                          );\n                          let newsiblings = siblings.map((s) => {\n                            return s.name == data.name\n                              ? { ...data, fields: newfields }\n                              : s;\n                          });\n                          setter(newsiblings);\n                        }}\n                      />\n                    </td>\n                  ) : (\n                    \"\"\n                  )}\n\n                  {props.edit_field ? (\n                    <td>\n                      <input\n                        key={data.name + \"_\" + f.name + \"_edit\"}\n                        type=\"checkbox\"\n                        checked={f.edit ? 1 : 0}\n                        disabled={!f.editable || f.primary_key}\n                        onChange={(e) => {\n                          let newfields = Object.entries(data.fields).map(\n                            ([, d]) => {\n                              return d.name == f.name\n                                ? { ...f, edit: e.target.checked }\n                                : d;\n                            },\n                          );\n                          //console.log(newfields);\n                          let newsiblings = siblings.map((s) => {\n                            return s.name == data.name\n                              ? { ...data, fields: newfields }\n                              : s;\n                          });\n                          //console.log(newsiblings);\n                          setter(newsiblings);\n                          props.output_setter([]);\n                        }}\n                      />\n                    </td>\n                  ) : (\n                    \"\"\n                  )}\n                  {[...f.criteria, []].map((c, n) => {\n                    return (\n                      <td key={n}>\n                        <input\n                          onChange={(e) => {\n                            let newfields = null;\n                            if (n != Object.entries(f.criteria).length) {\n                              newfields = Object.entries(data.fields).map(\n                                ([, d]) => {\n                                  return d.name == f.name\n                                    ? {\n                                        ...f,\n                                        criteria: f.criteria.map((cc, k) => {\n                                          return k != n\n                                            ? cc\n                                            : [{ op: e.target.value }];\n                                        }),\n                                      }\n                                    : d;\n                                },\n                              );\n                            } else {\n                              console.log(\"got new criteria\");\n                              newfields = Object.entries(data.fields).map(\n                                ([, d]) => {\n                                  return {\n                                    ...d,\n                                    criteria: [\n                                      ...d.criteria,\n                                      d.name == f.name\n                                        ? [{ op: e.target.value }]\n                                        : \"\",\n                                    ],\n                                  };\n                                },\n                              );\n                            }\n\n                            console.log(\"n=\", n, newfields);\n                            let newsiblings = siblings.map((s) => {\n                              return s.name == data.name\n                                ? { ...data, fields: newfields }\n                                : s;\n                            });\n                            console.log(newsiblings);\n                            setter(newsiblings);\n                          }}\n                          value={c[0] ? c[0].op : \"\"}\n                          // disabled={!f.editable}\n                        ></input>\n                      </td>\n                    );\n                  })}\n                </tr>\n              );\n            })}\n            <>\n              {props.local_fields ? (\n                <>\n                  <tr>\n                    <th className=\"break\" colSpan={numColumns}></th>\n                  </tr>\n                  <tr>\n                    <th colSpan={numColumns} className=\"local_fields\">\n                      <h5>\n                        <b>Pipeline-only fields (not saved to PITS)</b>\n                      </h5>\n                    </th>\n                  </tr>\n\n                  <tr>\n                    <th>Field</th>\n\n                    <th>Field Type</th>\n                    <th></th>\n                  </tr>\n                  {Object.entries(props.local_fields).map(([n, f]) => (\n                    <tr key={n}>\n                      <td>\n                        <input\n                          value={f.caption}\n                          className=\"local_field_input\"\n                          placeholder=\"Field Name\"\n                          onChange={(e) => {\n                            save_caption(f.name, e.target.value);\n                          }}\n                        ></input>\n                      </td>\n                      <td>\n                        <select\n                          value={f.edit_type}\n                          onChange={(e) => save_type(f.name, e.target.value)}\n                        >\n                          <option value=\"string\">Short text or Number</option>\n                          <option value=\"textarea\">Long text</option>\n                          <option value=\"select_yesno\">Yes/No</option>\n                        </select>\n                      </td>\n                      <td colSpan={numColumns - 2}>\n                        <Button\n                          variant=\"warning\"\n                          size=\"sm\"\n                          onClick={() => {\n                            props.setter(\n                              props.siblings.map((s) => {\n                                return s.name == data.name\n                                  ? {\n                                      ...s,\n                                      local_fields: delete_field(\n                                        f.name,\n                                        s.local_fields,\n                                      ),\n                                    }\n                                  : s;\n                              }),\n                            );\n                          }}\n                        >\n                          Delete\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                  <tr>\n                    <td\n                      colSpan={numColumns}\n                      className=\"local_fields_add_button\"\n                    >\n                      <Button\n                        onClick={() => {\n                          console.log(\n                            \"add field\",\n                            \"local_fields\",\n                            props.local_fields,\n                            \"siblings\",\n                            props.siblings,\n                            \"column name\",\n                            data.name,\n                          );\n                          let newsibligns = props.siblings.map((s) => {\n                            return s.name == data.name\n                              ? {\n                                  ...s,\n                                  local_fields: {\n                                    ...s.local_fields,\n                                    [\"local_field\" + numLocFields]: {\n                                      caption: \"\",\n                                      edit_type: \"string\",\n                                      name: \"local_field\" + numLocFields,\n                                      editable: true,\n                                      edit: true,\n                                    },\n                                  },\n                                }\n                              : s;\n                          });\n                          setNumLocFields((n) => n + 1);\n                          console.log(\n                            \"siblings\",\n                            props.siblings,\n                            \"newsibligs\",\n                            newsibligns,\n                          );\n                          props.setter(\n                            props.siblings.map((s) => {\n                              return s.name == data.name\n                                ? {\n                                    ...s,\n                                    local_fields: {\n                                      ...s.local_fields,\n                                      [\"local_field\" +\n                                      numLocFields +\n                                      Object.entries(props.local_fields)\n                                        .length]: {\n                                        caption: \"\",\n                                        type: \"string\",\n                                        name:\n                                          \"local_field\" +\n                                          numLocFields +\n                                          Object.entries(props.local_fields)\n                                            .length,\n                                        editable: true,\n                                        edit: true,\n                                      },\n                                    },\n                                  }\n                                : s;\n                            }),\n                          );\n                        }}\n                      >\n                        Add Field\n                      </Button>\n                    </td>\n                  </tr>\n                </>\n              ) : null}\n            </>\n          </tbody>\n        </table>\n        {props.remove_button ? (\n          <Button\n            onClick={() => {\n              let newsiblings = siblings.filter((s) => {\n                if (props.keep_column) {\n                  console.log(\n                    \"Datacolumn:\",\n                    \"s.name=\",\n                    s.name,\n                    \"keep_column=\",\n                    props.keep_column,\n                  );\n                  return s.name != data.name || s.name == props.keep_column;\n                } else {\n                  return s.name != data.name;\n                }\n              });\n              setter(newsiblings);\n            }}\n          >\n            Delete Column\n          </Button>\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n}\n//\nexport default Datacolumn;\n","import \"./styles.css\";\nimport { useState, useContext } from \"react\";\nimport { LoginContext } from \"../App\";\n\nimport {\n  compute_wips,\n  compute_inputs,\n  compute_outputs,\n} from \"./column_helpers.js\";\n\nimport Datacolumn from \"./Datacolumn.js\";\nimport { Breadcrumb } from \"react-bootstrap\";\n\n//import Select from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport { useParams } from \"react-router-dom\";\n//import { Routes, Route } from 'react-router-dom';\n\nexport default function PipelineEditor(props) {\n  let target_pipeline = null;\n\n  const token = useContext(LoginContext);\n\n  //const [pipeline_data, setPipelineData] = useState(get_pipeline_data());\n\n  const [data_sources, set_data_sources] = useState([]);\n  const [data_source, setDataSource] = useState(null);\n  const [sub_queries, SetSubQueries] = useState([]);\n  const [sub_query, setSubQuery] = useState(null);\n\n  const [inputs, setInputs] = useState([]);\n  const [query, setQuery] = useState({});\n  const [wips, setWIPS] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  const [outputs, setOutputs] = useState([\n    // compute_outputs(query, wips, \"output\", \"Output Column\"),\n  ]);\n  const [selectOptions, setSelectOptions] = useState([]);\n  const [pipeline_data, setPipelineData] = useState(null);\n\n  let pipelineName = null;\n  let setPipelineName = null;\n\n  if (props.pipeline != \"new\") {\n    let params = useParams();\n    target_pipeline = params.pipelineName;\n    //pipeline_data = get_pipeline_data().find((x) => x.name == target_pipeline);\n\n    [pipelineName, setPipelineName] = useState(target_pipeline); // pipelineID\n  } else {\n    target_pipeline = \"Pipeline\";\n    //pipeline_data = get_pipeline_data()[0];\n    [pipelineName, setPipelineName] = useState(\"\"); // pipelineID\n  }\n\n  const [pipeline, setPipeline] = useState(target_pipeline);\n\n  const load_query_data = () => {\n    const url =\n      \"https://docs.ipam.ucla.edu/cocytus/get_data_sources.php?ipam_id=\" +\n      token.ipam_id +\n      \"&session_token=\" +\n      token.session_token;\n    const headers = {};\n    //const headers = { authorization: \"Basic \" + token };\n    fetch(url, { mode: \"cors\", headers: headers, method: \"GET\" }).then(\n      (response) => {\n        response.json().then((data) => {\n          console.log(\"pipeline_editor: got data\", data);\n          let new_pipeline_data = null;\n          if (props.pipeline != \"new\") {\n            new_pipeline_data = data.pipelines.find(\n              (x) => x.name == target_pipeline,\n            );\n\n            console.log(\n              \"pipeine editor: new_pipeline_data\",\n              new_pipeline_data,\n              \"data.pipelines\",\n              data.pipelines,\n              \"looking for \",\n              target_pipeline,\n            );\n          } else {\n            new_pipeline_data = {\n              name: \"new\",\n              caption: \"New Pipeline\",\n              data_source: data.data_sources[0].name,\n              query: data.data_sources[0].available_queries[0].name,\n              inputs: compute_inputs(data.data_sources[0].available_queries[0]),\n              local_fields: data.local_fields ? data.local_fields : [],\n            };\n          }\n\n          setPipelineData(new_pipeline_data);\n\n          set_data_sources(data.data_sources);\n\n          let new_data_source = data.data_sources.find(\n            (x) => x.name == new_pipeline_data.data_source,\n          );\n          console.log(\"new_data_source\", new_data_source, \"loaded=\", loaded);\n          setDataSource(new_data_source);\n          setQuery(\n            new_data_source.available_queries.find(\n              (x) => x.name == new_pipeline_data.inputs[0].query,\n            ),\n          );\n          console.log(\n            \"subqueries\",\n            new_data_source.available_queries[0],\n            new_data_source.available_queries[0].available_sub_queries,\n          );\n          setSelectOptions(\n            new_data_source.available_queries.map((q) => {\n              return { value: q.name, label: q.caption };\n            }),\n          );\n          SetSubQueries(\n            new_data_source.available_queries[0].available_sub_queries\n              ? new_data_source.available_queries[0].available_sub_queries.map(\n                  (q) => {\n                    return { value: q.name, label: q.caption };\n                  },\n                )\n              : [],\n          );\n          setSubQuery(null);\n          setInputs(new_pipeline_data.inputs);\n          if (props.pipeline != \"new\") {\n            setWIPS(new_pipeline_data.wips);\n            setOutputs(new_pipeline_data.outputs);\n            setPipeline(new_pipeline_data.caption);\n          } else {\n            setPipeline(\"\");\n            setWIPS([]);\n            setOutputs([]);\n          }\n          setLoaded(true);\n        });\n      },\n    );\n  };\n\n  if (!loaded) {\n    load_query_data();\n  }\n\n  /* console.log(\n    \"done with setup\",\n    \"target_pipeline\",\n    target_pipeline,\n    \"pipeline_data\",\n    pipeline_data,\n    \"data_sources\",\n    data_sources,\n    \"data_source\",\n    data_source,\n    \"inputs\",\n    inputs,\n    \"query\",\n    query,\n    \"wips\",\n    wips,\n    \"outputs\",\n    outputs,\n    \"selectOptions\",\n    selectOptions,\n    \"pipeline\",\n    pipeline,\n    \"loaded\",\n    loaded,\n    \"pipelineName\",\n    pipelineName,\n  ); */\n\n  return (\n    <div className=\"App\">\n      <nav>\n        <Breadcrumb className=\"Breadcrumb\">\n          <Breadcrumb.Item href=\"/malebolge/\">Home</Breadcrumb.Item>\n          <Breadcrumb.Item active>Editing pipeline: {pipeline}</Breadcrumb.Item>\n        </Breadcrumb>\n      </nav>\n      <h1>Pipeline Editor</h1>\n      {data_source && pipeline_data ? (\n        <>\n          <label className=\"pipelineName\">\n            Pipeline name:\n            <Form.Control\n              type=\"text\"\n              value={pipeline}\n              onChange={(e) => {\n                setPipeline(e.target.value);\n                setPipelineName(encodeURIComponent(e.target.value));\n                //setPipelineName(e.target.value.split(\" \").join(\"_\"));\n              }}\n            />\n          </label>\n          <div className=\"preamble\">\n            <label>\n              Datasource:\n              <Form.Select\n                className=\"data_selector\"\n                defaultValue={data_source.name}\n                onChange={(ev) => {\n                  let val = ev.target.value;\n                  let new_data_source = data_sources.filter((ds) => {\n                    return ds.name == val;\n                  })[0];\n                  setDataSource(new_data_source);\n                  setInputs(\n                    compute_inputs(new_data_source.available_queries[0]),\n                  );\n                  setWIPS([]);\n                  setOutputs([]);\n                  setSelectOptions(\n                    new_data_source.available_queries.map((q) => {\n                      return { value: q.name, label: q.caption };\n                    }),\n                  );\n                }}\n              >\n                {data_sources.map((ds) => {\n                  return (\n                    <option key={ds.name} value={ds.name}>\n                      {ds.caption}\n                    </option>\n                  );\n                })}\n              </Form.Select>\n            </label>\n            <label>\n              Query:\n              <Form.Select\n                className=\"data_selector\"\n                //value={selectOptions[0]}\n                defaultValue={\n                  //(pipeline_data.inputs[0].query)\n                  query.name\n                  /*label: data_source.available_queries.find(\n                (q) => q.name == pipeline_data.inputs[0].query,\n              ).caption,*/\n                }\n                onChange={(e) => {\n                  let val = e.target.value;\n                  let newquery = data_source.available_queries.filter((qn) => {\n                    return qn.name == val;\n                  })[0];\n                  setQuery(newquery);\n                  setInputs(compute_inputs(newquery));\n                  SetSubQueries(\n                    newquery.available_sub_queries\n                      ? newquery.available_sub_queries.map((q) => {\n                          return { value: q.name, label: q.caption };\n                        })\n                      : [],\n                  );\n                  console.log(\n                    \"set subqueries\",\n                    newquery.available_sub_queries\n                      ? newquery.available_sub_queries.map((q) => {\n                          return { value: q.name, label: q.caption };\n                        })\n                      : [],\n                  );\n                  setWIPS([]);\n                  setOutputs([\n                    //compute_outputs(newquery, [], \"output\", \"Output Column\"),\n                  ]);\n                }}\n              >\n                {console.log(query)}\n                {selectOptions.map((q) => {\n                  return (\n                    <option key={q.value} value={q.value}>\n                      {q.label}\n                    </option>\n                  );\n                })}\n              </Form.Select>\n            </label>\n            <label>\n              Column:\n              <Form.Select\n                className=\"data_selector\"\n                default_value=\"\"\n                onChange={(e) => {\n                  let newSubQuery = sub_queries.filter(\n                    (qn) => qn.name == e.target.value,\n                  )[0];\n                  setSubQuery(newSubQuery);\n\n                  setOutputs([]);\n                }}\n              >\n                <option value={null}>Entire output</option>\n                {sub_queries.map((q) => {\n                  return (\n                    <option key={q.name} value={q.value}>\n                      {q.label}\n                    </option>\n                  );\n                })}\n              </Form.Select>\n            </label>\n          </div>\n          <table className=\"columntable\">\n            <thead>\n              <tr>\n                <th>\n                  <h2>Inputs</h2>\n                  <h4>New cards appear here</h4>\n                </th>\n                <th>\n                  <h2>\n                    To-Do&apos;s{\" \"}\n                    <Button\n                      onClick={() => {\n                        setWIPS([\n                          ...wips,\n                          compute_wips(query, \"wip\" + wips.length + 1, \"\"),\n                        ]);\n                      }}\n                    >\n                      Add Column\n                    </Button>\n                  </h2>\n                  <h4>Cards you are working on appear here</h4>\n                </th>\n                <th>\n                  <h2>\n                    Done{\" \"}\n                    <Button\n                      onClick={() => {\n                        setOutputs([\n                          ...outputs,\n                          compute_outputs(\n                            query,\n                            wips,\n                            \"outputs\" + outputs.length + 1,\n                            \"\",\n                          ),\n                        ]);\n                      }}\n                    >\n                      Add Column\n                    </Button>\n                  </h2>\n                  <h4>All cards should end up here</h4>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>\n                  <div className=\"columnset\">\n                    <Datacolumn\n                      column_data={inputs[0]}\n                      local_fields={\n                        inputs[0].local_fields ? inputs[0].local_fields : {}\n                      }\n                      siblings={inputs}\n                      setter={setInputs}\n                      key=\"inputs\"\n                      use_field={true}\n                      edit_field={false}\n                    />\n                  </div>\n                </td>\n                <td>\n                  <div className=\"columnset\">\n                    {wips.map((w) => {\n                      return (\n                        <Datacolumn\n                          column_data={{\n                            ...w,\n                            fields: w.fields,\n                          }}\n                          siblings={wips}\n                          setter={setWIPS}\n                          remove_button\n                          key={w.name}\n                          output_setter={setOutputs}\n                          use_field={false}\n                          edit_field={true}\n                        />\n                      );\n                    })}\n                  </div>\n                </td>\n                <td>\n                  <div className=\"columnset\">\n                    {outputs.map((o) => {\n                      return (\n                        <Datacolumn\n                          column_data={o}\n                          siblings={outputs}\n                          remove_button\n                          //keep_column={\"output\"}\n                          setter={setOutputs}\n                          key={o.name}\n                          use_field={false}\n                          edit_field={false}\n                        />\n                      );\n                    })}\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <hr />\n          <Button\n            disabled={outputs.length == 0 || pipeline == \"\"}\n            onClick={() => {\n              let save_data = {\n                data_source: data_source.name,\n                query: query.name,\n                sub_query: sub_query.name,\n                name: pipelineName,\n                caption: pipeline,\n                inputs: inputs,\n                wips: wips,\n                outputs: outputs,\n                local_fields: pipeline_data.local_fields,\n              };\n              const headers = {\n                //  authorization: \"Basic \" + token,\n                \"Content-Type\": \"application/json\",\n              };\n              const url =\n                \"https://docs.ipam.ucla.edu/cocytus/save_pipeline.php?ipam_id=\" +\n                token.ipam_id +\n                \"&session_token=\" +\n                token.session_token;\n              const body = JSON.stringify(save_data);\n\n              console.log(\n                \"saving pipline before fetch url=\",\n                url,\n                \"body=\",\n                body,\n                \"headers=\",\n                headers,\n              );\n              fetch(url, {\n                headers: headers,\n                body: body,\n                mode: \"cors\",\n                method: \"POST\",\n              }).then((response) => {\n                response.text().then((text) => {\n                  //console.log(\"Saving pipline. Got response: \" + text);\n                  alert(\"Saved. Got response: \" + text);\n                });\n              });\n              //console.log(JSON.stringify(save_data));\n            }}\n          >\n            Save\n          </Button>\n          <hr />\n        </>\n      ) : (\n        <div>Loading data sources...</div>\n      )}\n    </div>\n  );\n}\n"],"names":["compute_inputs","query","name","caption","fields","Object","entries","map","_ref","d","editable","primary_key","edit_type","edit","criteria","display_on_card","type","compute_wips","column_name","column_caption","_ref2","compute_outputs","wips","wip_fields","Set","w","flat","filter","f","ff","console","log","xyz","_ref3","includes","x","props","siblings","setter","data","column_data","numLocFields","setNumLocFields","useState","local_fields","keys","length","numColumns","v","reduce","a","b","Math","max","Infinity","_jsxs","className","children","_jsx","value","onChange","e","newsiblings","s","target","use_field","edit_field","Array","apply","_","i","checked","newfields","disabled","_ref4","output_setter","c","n","_ref5","cc","k","op","_ref6","_Fragment","colSpan","_ref7","placeholder","save_caption","fieldName","fieldCaption","save_type","fieldType","Button","variant","size","onClick","fieldSet","delete_field","newsibligns","remove_button","keep_column","PipelineEditor","target_pipeline","token","useContext","LoginContext","data_sources","set_data_sources","data_source","setDataSource","sub_queries","SetSubQueries","sub_query","setSubQuery","inputs","setInputs","setQuery","setWIPS","loaded","setLoaded","outputs","setOutputs","selectOptions","setSelectOptions","pipeline_data","setPipelineData","pipelineName","setPipelineName","pipeline","params","useParams","setPipeline","load_query_data","url","ipam_id","session_token","fetch","mode","headers","method","then","response","json","new_pipeline_data","pipelines","find","available_queries","new_data_source","available_sub_queries","q","label","Breadcrumb","Item","href","active","Form","Control","encodeURIComponent","Select","defaultValue","ev","val","ds","newquery","qn","default_value","newSubQuery","Datacolumn","o","save_data","body","JSON","stringify","text","alert"],"sourceRoot":""}